<template>
    <div class="preloader-wrapper">
        <div class="preloader">
            <div class="preloader__icon">
            <lottie-animation
                ref="anim"
                :animationData="require('@/preloader_new.json')"
                :loop="true"
            />
            </div>
        </div>
        <div class="anim anim-1 show">
            <svg class="svg3 svg-particles show" width="493" height="120" viewBox="0 0 493 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect opacity="0.8" x="124.244" y="38.046" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.8" x="-1.71289" y="0.756104" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.8" x="196.338" y="85.2799" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.8" x="38.0625" y="55.448" width="14.916" height="14.916" fill="white"/>
                <rect opacity="0.2" x="83.6387" y="25.6161" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.2" x="137.502" y="85.2799" width="14.916" height="14.916" fill="white"/>
                <rect opacity="0.2" x="319.809" y="85.2799" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.2" x="375.33" y="110.14" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.2" x="443.279" y="80.308" width="14.916" height="14.916" fill="white"/>
                <rect opacity="0.1" x="484.713" y="105.997" width="8.28666" height="8.28666" fill="white"/>
                <rect opacity="0.5" x="161.533" y="13.186" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.5" x="263.461" y="103.511" width="24.86" height="24.86" fill="white"/>
                <rect opacity="0.5" x="201.309" y="48.8187" width="14.916" height="14.916" fill="white"/>
                <rect opacity="0.5" x="61.2656" y="102.682" width="14.916" height="14.916" fill="white"/>
                <rect opacity="0.2" x="-10" y="90.252" width="24.86" height="24.86" fill="white"/>
            </svg>
            <svg class="svg4 svg-particles show" width="493" height="120" viewBox="0 0 493 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect opacity="0.8" width="24.86" height="24.86" transform="matrix(-1 0 0 1 368.756 38.046)" fill="white"/>
                <rect opacity="0.8" width="24.86" height="24.86" transform="matrix(-1 0 0 1 494.713 0.756104)" fill="white"/>
                <rect opacity="0.8" width="24.86" height="24.86" transform="matrix(-1 0 0 1 296.662 85.2799)" fill="white"/>
                <rect opacity="0.8" width="14.916" height="14.916" transform="matrix(-1 0 0 1 454.938 55.448)" fill="white"/>
                <rect opacity="0.2" width="24.86" height="24.86" transform="matrix(-1 0 0 1 409.361 25.6161)" fill="white"/>
                <rect opacity="0.2" width="14.916" height="14.916" transform="matrix(-1 0 0 1 355.498 85.2799)" fill="white"/>
                <rect opacity="0.2" width="24.86" height="24.86" transform="matrix(-1 0 0 1 173.191 85.2799)" fill="white"/>
                <rect opacity="0.2" width="24.86" height="24.86" transform="matrix(-1 0 0 1 117.67 110.14)" fill="white"/>
                <rect opacity="0.2" width="14.916" height="14.916" transform="matrix(-1 0 0 1 49.7207 80.308)" fill="white"/>
                <rect opacity="0.1" width="8.28666" height="8.28666" transform="matrix(-1 0 0 1 8.28711 105.997)" fill="white"/>
                <rect opacity="0.5" width="24.86" height="24.86" transform="matrix(-1 0 0 1 331.467 13.186)" fill="white"/>
                <rect opacity="0.5" width="24.86" height="24.86" transform="matrix(-1 0 0 1 229.539 103.511)" fill="white"/>
                <rect opacity="0.5" width="14.916" height="14.916" transform="matrix(-1 0 0 1 291.691 48.8187)" fill="white"/>
                <rect opacity="0.5" width="14.916" height="14.916" transform="matrix(-1 0 0 1 431.734 102.682)" fill="white"/>
                <rect opacity="0.2" width="24.86" height="24.86" transform="matrix(-1 0 0 1 503 90.252)" fill="white"/>
            </svg>
            <svg class="svg-wave" width="1920" height="424" viewBox="0 0 1920 424" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0.296564C0 0.296564 219.063 119.471 367 129.445C607.73 145.675 702.403 2.29063 944.5 0.296536C1176.11 -1.61122 1306.38 146.004 1536.5 129.445C1682.38 118.947 1920 0.296564 1920 0.296564V423.297H0V0.296564Z" fill="url(#paint0_linear)"/>
                <defs>
                <linearGradient id="paint0_linear" x1="960" y1="0.296509" x2="960" y2="343.296" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#5893D4"/>
                    <stop offset="1" stop-color="#8DB7E4"/>
                </linearGradient>
                </defs>
            </svg>
            </div>
            <div class="anim anim-2 show">
            <svg class="svg1 svg-particles show" width="453" height="131" viewBox="0 0 453 131" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g opacity="0.6">
                <rect opacity="0.2" x="316" y="88" width="18" height="18" fill="white"/>
                <rect opacity="0.2" x="223" y="92" width="18" height="18" fill="white"/>
                <rect opacity="0.2" y="57" width="18" height="18" fill="white"/>
                <rect opacity="0.3" x="159" y="52" width="15" height="15" fill="white"/>
                <rect opacity="0.1" x="103" y="93" width="15" height="15" fill="white"/>
                <rect opacity="0.1" x="73" width="15" height="15" fill="white"/>
                <rect opacity="0.1" x="386" y="121" width="10" height="10" fill="white"/>
                <rect opacity="0.3" x="443" y="107" width="10" height="10" fill="white"/>
                <rect opacity="0.1" x="264" y="70" width="10" height="10" fill="white"/>
                </g>
            </svg>
            <svg class="svg2 svg-particles show" width="453" height="131" viewBox="0 0 453 131" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g opacity="0.6">
                <rect opacity="0.2" width="18" height="18" transform="matrix(-1 0 0 1 137 88)" fill="white"/>
                <rect opacity="0.2" width="18" height="18" transform="matrix(-1 0 0 1 230 92)" fill="white"/>
                <rect opacity="0.2" width="18" height="18" transform="matrix(-1 0 0 1 453 57)" fill="white"/>
                <rect opacity="0.3" width="15" height="15" transform="matrix(-1 0 0 1 294 52)" fill="white"/>
                <rect opacity="0.1" width="15" height="15" transform="matrix(-1 0 0 1 350 93)" fill="white"/>
                <rect opacity="0.1" width="15" height="15" transform="matrix(-1 0 0 1 380 0)" fill="white"/>
                <rect opacity="0.1" width="10" height="10" transform="matrix(-1 0 0 1 67 121)" fill="white"/>
                <rect opacity="0.3" width="10" height="10" transform="matrix(-1 0 0 1 10 107)" fill="white"/>
                <rect opacity="0.1" width="10" height="10" transform="matrix(-1 0 0 1 189 70)" fill="white"/>
                </g>
            </svg>
            <svg class="svg-wave" width="1920" height="495" viewBox="0 0 1920 495" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 22.8926C0 22.8926 162.063 -9.07056 310 2.89258C550.73 22.3596 734.403 135.023 976.5 132.631C1208.11 130.343 1392.88 22.7546 1623 2.89258C1768.88 -9.69832 1920 22.8926 1920 22.8926V494.297H0V22.8926Z" fill="url(#paint0_linear)"/>
                <defs>
                <linearGradient id="paint0_linear" x1="960" y1="-2.70349" x2="960" y2="414.296" gradientUnits="userSpaceOnUse">
                    <stop stop-color="#5893D4"/>
                    <stop offset="1" stop-color="#8DB7E4"/>
                </linearGradient>
                </defs>
            </svg>
        </div>
    </div>
</template>
<script>
import LottieAnimation from 'lottie-web-vue'

export default {
    name: "Preloader",
    props: {
        loading: Boolean,
        resource: Boolean
    },
    components: {
        LottieAnimation
    },
    data: () => ({
        timerId: null,
    }),
    beforeDestroy() {
        this.$refs.anim.stop()
    },
    destroyed() {
        console.log('destroyed')
    },
    mounted() {
        console.log('mounted')
        // this.timerId = setTimeout( async () => { 
        //     await this.$refs.anim.play()
        //     clearTimeout(this.timerId) 
        // }, 5000)
    }
}
</script>
<style scoped lang="sass">

</style>